/* Sticky footer styles - more robust implementation */
html {
  height: 100%;
  background-color: var(--color-background);
  transition: background-color var(--transition-time) ease;
}

body {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  margin: 0;
  background-color: var(--color-background);
  color: var(--color-text);
  transition: background-color var(--transition-time) ease,
    color var(--transition-time) ease;
}

.content-wrapper {
  flex: 1 0 auto; /* This makes it grow to fill available space */
  width: 100%; /* Ensure full width */
}

#footer,
footer {
  flex-shrink: 0; /* Prevents footer from shrinking */
  width: 100%;
  padding: 20px 0;
}

/* Make sure all parent containers don't interfere with the flex layout */
#__next {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  width: 100%;
  background-color: var(--color-background);
  transition: background-color var(--transition-time) ease;
}

/* Navbar container styling - ensures it matches content width */
.uk-navbar-container {
  background: #fff !important;
  width: 100%;
}

/* Make nav container use full width of parent container */
.uk-container-large {
  max-width: 1400px;
  padding-left: 15px;
  padding-right: 15px;
  box-sizing: border-box;
  width: 100%;
}

/* Navbar layout improvement - better alignment */
.uk-navbar {
  display: flex;
  justify-content: space-between;
  width: 100%;
}

.uk-navbar-left {
  margin-right: auto; /* Pushes it to the left */
}

.uk-navbar-right {
  margin-left: auto; /* Pushes it to the right */
}

/* Logo styling - updated for larger box and correct font */
.site-logo {
  font-family: "Barriecito", cursive !important;
  font-size: 40px !important; /* Increased from 32px to 40px */
  line-height: 1;
  display: flex;
  align-items: center;
}

.logo-silky {
  background-color: #ff007f;
  color: white;
  padding: 6px 10px; /* Increased padding for bigger box */
  margin-right: 6px; /* Slightly increased margin */
}

.logo-truth {
  color: #ff007f;
}

/* Navigation link styling */
.nav-link {
  font-family: "Kirang Haerang", cursive !important;
  color: var(--color-secondary) !important;
  transition: color 0.3s ease;
  font-size: 18px; /* Reduced to create contrast with logo */
}

.nav-link:hover {
  color: #888888 !important;
}

.uk-navbar-left a {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

a {
  text-decoration: none;
}

h1,
h2,
h3,
h4,
h5,
h6,
.uk-article-title,
#title {
  font-family: "Kirang Haerang", cursive !important;
  color: var(--color-text);
  transition: color var(--transition-time) ease;
}

/* Category page heading - smaller with added spacing */
.uk-section h1:not(.uk-article-title) {
  font-size: 60px;
  margin-bottom: 40px; /* Added vertical spacing below category page H1 */
}

#category {
  font-family: "Kirang Haerang", cursive !important;
  font-size: 16px;
}

/* Increased title size for home and category pages */
#title {
  letter-spacing: 0.4px;
  font-size: 40px; /* Increased from 28px to 40px */
  line-height: 1.2;
  margin-top: 5px;
  margin-bottom: 15px;
  font-family: "Kirang Haerang", cursive !important;
}

/* Article title styling with Bangers font */
.uk-article-title {
  font-family: "Kirang Haerang", cursive !important;
}

#banner {
  height: 800px;
}

#editor {
  font-size: 18px;
  line-height: 1.75;
}

.uk-navbar,
.uk-navbar-nav li a {
  color: #ff007f;
}

img:hover {
  opacity: 1;
  transition: opacity 0.25s cubic-bezier(0.39, 0.575, 0.565, 1);
}

.uk-navbar-nav > li > a {
  text-transform: lowercase;
  font-size: 18px;
}

html {
  font-family: "IBM Plex Mono", monospace, Sans-Serif;
  font-size: 18px;
}

#social {
  text-align: center;
}

#social a {
  color: #ff007f;
  font-size: 25px;
  margin: 0 20px;
  display: inline-block;
}

/* Image loading and fade-in effects */
.image-container {
  position: relative;
  width: 100%;
  min-height: 100px;
  margin-bottom: 15px;
  display: block;
}

.image-loader {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f5f5f5; /* This is the color to match for your loader gif */
  z-index: 1;
  background-image: url("/loader.gif");
  background-repeat: no-repeat;
  background-position: center center;
  background-size: 50px 50px;
}

.image-transition {
  transition: opacity 0.3s ease-in-out;
}

.image-loading {
  opacity: 0;
}

.image-loaded {
  opacity: 1;
}

/* Custom divider replacing uk-divider-icon */
.uk-divider-icon {
  background-image: none !important;
  background-repeat: no-repeat !important;
  background-position: center center !important;
  background-size: contain !important;
  height: 120px !important; /* Doubled from 60px */
  margin: 40px auto !important;
  position: relative !important;
  border: none !important;
}

/* Container for random SVG dividers */
.random-divider-container {
  text-align: center;
  margin: 30px 0;
}

.random-divider-container img {
  height: 120px; /* Doubled from 60px */
  max-width: 100%;
  display: inline-block;
}

/* Remove default uk-divider-icon styling */
.uk-divider-icon::before,
.uk-divider-icon::after {
  display: none !important;
}

/* Article cover image styling - enhanced for focal points */
.article-cover-image {
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  max-height: 600px;
  overflow: hidden;
  margin-bottom: 30px;
  position: relative;
  box-shadow: none;
  border-radius: 0;
}

.article-cover-image img {
  width: 100%;
  height: 500px; /* Fixed height for consistent presentation */
  object-fit: cover !important; /* This ensures the image fills the container */
  display: block;
  border-radius: 0 !important;
  box-shadow: none !important;
  object-position: var(
    --focal-point,
    center
  ) !important; /* Use focal point CSS variable */
}

/* Force object-position to be respected */
img.image-transition {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  object-fit: cover !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  object-position: var(
    --focal-point,
    center
  ) !important; /* Use focal point CSS variable */
}

/* Image container fixes for focal points */
.image-container {
  position: relative;
  width: 100%;
  min-height: 100px;
  margin-bottom: 15px;
  display: block;
}

/* When inside article cover, use special styling */
.article-cover-image .image-container {
  height: 500px !important;
  padding-bottom: 0 !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* Article content styling */
.uk-article-content,
p {
  font-size: 18px;
  line-height: 1.8;
  font-family: "IBM Plex Mono", monospace !important;
  color: var(--color-text);
  transition: color var(--transition-time) ease;
}

/* Fixed article title size to be more reasonable */
.uk-article-title {
  font-size: 48px;
  line-height: 1.2;
  margin-bottom: 40px;
  font-weight: bold;
}

/* Fix for lightbox captions */
.uk-lightbox-caption {
  display: none !important;
}

/* Legacy gallery styles - kept for backwards compatibility */
.gallery-item {
  position: relative;
  overflow: hidden;
  border-radius: 4px;
}

.gallery-item img {
  width: 100%;
  display: block;
  transition: transform 0.3s ease;
}

.gallery-caption {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 12px;
  font-size: 14px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.gallery-item:hover .gallery-caption {
  opacity: 1;
}

/* Display size classes */
.gallery-size-small {
  width: 25%;
}

.gallery-size-medium {
  width: 33.333%;
}

.gallery-size-large {
  width: 50%;
}

.gallery-size-full {
  width: 100%;
}

/* Responsive adjustments */
@media (max-width: 960px) {
  .gallery-size-small {
    width: 33.333%;
  }

  .gallery-size-medium {
    width: 50%;
  }

  .gallery-size-large,
  .gallery-size-full {
    width: 100%;
  }
}

@media (max-width: 640px) {
  .gallery-size-small,
  .gallery-size-medium {
    width: 50%;
  }

  .gallery-size-large,
  .gallery-size-full {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .gallery-size-small,
  .gallery-size-medium,
  .gallery-size-large,
  .gallery-size-full {
    width: 100%;
  }
}


/* Space between gallery items */
.uk-grid > .gallery-item-wrapper {
  padding-left: 15px;
}

/* Article item styling */
.article-item {
  margin-bottom: 40px;
}

.article-content {
  padding: 0;
}

/* Footer styling */
#footer {
  flex-shrink: 0;
  padding: 20px 0;
}

/* Mobile responsive fixes */
@media (max-width: 1200px) {
  #title {
    font-size: 36px; /* Responsive scaling for #title */
  }
}

@media (max-width: 768px) {
  .uk-child-width-1-1\@s > * {
    width: 100% !important;
  }

  .uk-grid > * > * {
    width: 100% !important;
  }

  /* Force all images to take full width on mobile */
  .uk-grid > * img {
    width: 100% !important;
    max-width: 100% !important;
  }

  h1 {
    font-size: 50px;
  }

  #title {
    font-size: 30px;
  }

  .uk-article-title {
    font-size: 36px;
  }

  .uk-section h1:not(.uk-article-title) {
    font-size: 40px; /* Smaller category heading on mobile */
    margin-bottom: 25px;
  }

  /* Adjust cover image height on mobile */
  .article-cover-image img {
    height: 300px;
  }
}

@media (max-width: 480px) {
  #title {
    font-size: 26px;
  }

  .uk-article-title {
    font-size: 30px;
  }

  h1 {
    font-size: 40px;
  }

  /* Further reduce cover image height on small screens */
  .article-cover-image img {
    height: 250px;
  }
}

/* PhotoSwipe Gallery Styles - Custom Grid Layout */
.photo-gallery-container {
  margin-top: 40px;
  width: 100%;
}

/* Custom masonry grid with consistent spacing */
.custom-masonry-grid {
  column-count: 3;
  column-gap: 13px;
  width: 100%;
  column-fill: balance;
}

.custom-masonry-grid .gallery-item-container {
  display: inline-block;
  width: 100%;
  break-inside: avoid;
}

/* Responsive column counts */
@media (max-width: 1200px) {
  .custom-masonry-grid {
    column-count: 2;
  }
}

@media (max-width: 768px) {
  .custom-masonry-grid {
    column-count: 1;
  }
}

.photo-gallery-wrapper {
  width: 100%;
  margin: 0 auto;
}

/* Gallery container - Masonry layout */
.photo-gallery-wrapper {
  overflow: visible;
  width: 100%;
}

/* Remove any default margins */
.photo-gallery-wrapper .gallery-item-container {
  margin: 0;
  padding: 0;
}

/* Image wrapper handles the border radius */
.photo-gallery-wrapper .gallery-image-wrapper {
  background: transparent;
}

/* Very subtle zoom on the image only - targeting the actual image */
.custom-masonry-grid .gallery-item-container:hover img {
  transform: scale(1.015);
  transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

.custom-masonry-grid .gallery-item-container img {
  transition: transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* Remove all hover animations and transformations */
.gallery-item-no-hover {
  position: relative;
  overflow: hidden;
  border-radius: 4px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Static caption that's always visible */
.gallery-caption-static {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 12px;
  font-size: 14px;
}

/* PhotoSwipe Customizations */
.pswp__top-bar {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

.pswp__caption {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

.pswp__button--download {
  background-position: 0 -44px;
}

/* Fix for UK lightbox captions that may interfere with PhotoSwipe */
.uk-lightbox-caption {
  display: none !important;
}

/* Disable all the transform and hover effects from the previous implementation */
.gallery-item-wrapper:hover,
.gallery-item:hover img,
.gallery-item-wrapper:hover {
  transform: none;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Make sure the PhotoSwipe UI elements work properly */
.pswp__img {
  object-fit: contain;
}

/* Reset styling for article page images */
.uk-article-title + div img,
.uk-article-content img,
.article-cover-image img {
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* ============= DARK MODE STYLES ============= */

/* CSS variables for theme colors */
:root {
  --color-background: #ffffff;
  --color-text: #333333;
  --color-primary: #ff007f;
  --color-secondary: #ff007f;
  --color-accent: #444444;
  --color-border: #dddddd;
  --image-grayscale: 0%;
  --image-opacity: 100%;
  --navbar-bg: #ffffff;
  --card-bg: #ffffff;
  --footer-bg: #ffffff;
  --shadow-color: rgba(0, 0, 0, 0.1);
  --logo-bg: #ff007f;
  --logo-text: #ffffff;
  --logo-secondary: #ff007f;
  --transition-time: 0.3s;
}

/* Dark mode variables */
.dark-mode {
  --color-background: #1f2023;
  --color-text: #efefef;
  --color-primary: #ff007f;
  --color-secondary: #ff007f;
  --color-accent: #d0d0d0;
  --color-border: #444444;
  --image-grayscale: 10%;
  --image-opacity: 90%;
  --navbar-bg: #1f2023;
  --card-bg: #1f2023;
  --footer-bg: #1f2023;
  --shadow-color: rgba(0, 0, 0, 0.4);
  --logo-bg: #ff007f;
  --logo-text: #ffffff;
  --logo-secondary: #ff007f;
}

/* Apply variables to elements - with smooth transitions */
body {
  background-color: var(--color-background);
  color: var(--color-text);
  transition: background-color var(--transition-time) ease,
    color var(--transition-time) ease;
}

.uk-navbar-container {
  background: var(--navbar-bg) !important;
  transition: background-color var(--transition-time) ease;
}

.logo-silky {
  background-color: var(--logo-bg);
  color: var(--logo-text);
  transition: background-color var(--transition-time) ease,
    color var(--transition-time) ease;
}

.logo-truth {
  color: var(--logo-secondary);
  transition: color var(--transition-time) ease;
}

.nav-link,
.uk-navbar-nav li a {
  color: var(--color-secondary) !important;
  transition: color var(--transition-time) ease;
}

/* Card and container backgrounds */
.uk-card,
.article-item,
.gallery-item {
  background: var(--card-bg);
  transition: background-color var(--transition-time) ease;
}

#footer,
footer {
  background: var(--footer-bg);
  transition: background-color var(--transition-time) ease;
}

/* Image adjustments in dark mode */
.dark-mode img,
.dark-mode video {
  filter: grayscale(var(--image-grayscale)) opacity(var(--image-opacity));
  transition: filter var(--transition-time) ease;
}

/* Exempt Konami easter egg character from dark mode filters */
.dark-mode .konami-character img {
  filter: none !important;
  opacity: 1 !important;
}

/* Ensure Konami character is always visible */
.konami-character {
  pointer-events: none;
  z-index: 999999 !important;
}

.konami-character img {
  filter: none !important;
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
}

/* Link colors in dark mode */
.dark-mode a:not(.uk-button):not(.nav-link):not(.site-logo) {
  color: var(--color-primary);
  transition: color var(--transition-time) ease;
}

.dark-mode a:not(.uk-button):not(.nav-link):not(.site-logo):hover {
  color: var(--color-secondary);
}

/* ============= HAMBURGER MENU STYLES ============= */

/* Style the container */
.nav-container {
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Style the hamburger button */
.hamburger-menu-container {
  display: none; /* Hidden on desktop */
  position: relative;
  z-index: 101;
  margin-right: 0; /* Removed margin-right */
}

.hamburger-menu-button {
  background: transparent;
  border: none;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 60px; /* Doubled from 30px */
  padding: 0;
  position: relative;
  width: 60px; /* Doubled from 30px */
}

/* Style for the custom menu icon */
.menu-icon {
  width: 60px; /* Doubled from 30px */
  height: 60px; /* Doubled from 30px */
  transition: opacity 0.3s ease-in-out;
}

/* Animation for active state - removed rotation */
.hamburger-menu-button.is-active .menu-icon {
  /* transform: rotate(90deg); - removed rotation */
}

/* X icon shown when menu is active */
.menu-icon-close {
  position: absolute;
  width: 60px; /* Doubled from 30px */
  height: 60px; /* Doubled from 30px */
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  pointer-events: none; /* Prevent it from receiving hover events */
  top: 0;
  left: 0;
}

/* Only show X when menu is active - hide by default */
.hamburger-menu-button .menu-icon {
  opacity: 1;
}

.hamburger-menu-button .menu-icon-close {
  opacity: 0;
}

/* Show X and hide normal icon when active */
.hamburger-menu-button.is-active .menu-icon {
  opacity: 0;
}

.hamburger-menu-button.is-active .menu-icon-close {
  opacity: 1;
}

/* Legacy styles for hamburger lines - can be removed if not needed for fallback */
.hamburger-menu-button span {
  display: none; /* Hide the original hamburger lines */
}

/* Animated hamburger icon - can be removed if not needed for fallback */
.hamburger-menu-button.is-active span:nth-child(1) {
  transform: translateY(10px) rotate(45deg);
}

.hamburger-menu-button.is-active span:nth-child(2) {
  opacity: 0;
}

.hamburger-menu-button.is-active span:nth-child(3) {
  transform: translateY(-10px) rotate(-45deg);
}

/* Mobile navigation styles */
@media (max-width: 768px) {
  /* Show hamburger menu on mobile */
  .hamburger-menu-container {
    display: block;
  }

  /* Hide the navbar by default on mobile */
  .nav-links {
    position: fixed;
    top: -100%;
    left: 0;
    width: 100%;
    height: auto;
    max-height: 80vh;
    background-color: var(--navbar-bg);
    box-shadow: 0 5px 15px var(--shadow-color);
    padding: 20px;
    transition: top 0.3s ease;
    z-index: 100;
    overflow-y: auto;
    text-align: center;
  }

  /* Show the navbar when menu is open */
  .nav-links.is-open {
    top: 0;
  }

  /* Adjust the navbar list to be vertical on mobile */
  .nav-links .uk-navbar-nav {
    flex-direction: column;
    gap: 15px;
    width: 100%;
    justify-content: center;
    align-items: center;
  }

  .nav-links .uk-navbar-nav li {
    width: 100%;
    text-align: center;
  }

  .nav-links .uk-navbar-nav li a {
    padding: 10px 0;
    font-size: 24px;
    width: 100%;
    display: block;
    text-align: center;
  }

  /* Style the dark mode toggle on mobile - make it appear with other nav links */
  .dark-mode-toggle-container {
    display: none;
  }
}

/* Extra small devices */
@media (max-width: 480px) {
  .site-logo {
    font-size: 24px !important;
  }
}

/* Make all text-containing elements transition properly */
p,
li,
blockquote,
.uk-article-meta {
  color: var(--color-text);
  transition: color var(--transition-time) ease;
}

h1 {
  font-size: 120px;
}

h1.uk-article-title {
  font-size: 48px;
  line-height: 1.2;
  margin-bottom: 40px;
  font-weight: bold;
}

/* Remove the dark mode toggle container styles since they're no longer needed */
.dark-mode-toggle-container {
  display: none;
}

/* Dark mode toggle styling */
.dark-mode-toggle {
  cursor: pointer;
  font-family: "Kirang Haerang", cursive !important;
  font-size: 18px;
  text-transform: lowercase;
}

.dark-toggle-inner {
  display: inline-block;
  background-color: var(--color-text);
  color: var(--color-background);
  padding: 4px 10px;
  border-radius: 4px;
}

/* Make sure the dark mode toggle appears properly in mobile menu */
@media (max-width: 768px) {
  .nav-links .uk-navbar-nav li a.dark-mode-toggle {
    display: inline-block;
    margin: 0 auto;
    text-align: center;
  }

  .dark-toggle-inner {
    display: inline-block;
    padding: 6px 12px;
    font-size: 20px;
  }
}
