(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{2155:function(e,t,n){"use strict";var o=n(5893),r=n(7294),s=n(3850),a=n(4247);t.Z=function(e){var t=e.width,n=void 0===t?400:t,i=e.height,l=void 0===i?300:i,c=e.mode,d=void 0===c?"main":c,u=e.text,p=void 0===u?"":u,f=e.roughness,g=void 0===f?1.5:f,m=e.className,h=void 0===m?"":m,x=e.onClick,b=e.disabled,y=void 0!==b&&b,v=e.children,j=(0,r.useRef)(null),k=(0,r.useState)(!1),w=k[0],S=k[1];if((0,r.useEffect)((function(){S(!0)}),[]),(0,r.useEffect)((function(){if(w&&j.current){var e=j.current,t=a.Z.canvas(e),o=e.getContext("2d"),r=window.devicePixelRatio||1;switch(e.width=n*r,e.height=l*r,e.style.width="".concat(n,"px"),e.style.height="".concat(l,"px"),o.scale(r,r),o.clearRect(0,0,n,l),d){case"main":t.rectangle(10,10,n-20,l-20,{fill:"#ff007f",fillStyle:"solid",stroke:"#ff007f",strokeWidth:3,roughness:2.2,bowing:3});break;case"yes-button":case"no-button":case"option-button":t.rectangle(5,5,n-10,l-10,{fill:"#ffffff",fillStyle:"solid",stroke:"#ff007f",strokeWidth:2,roughness:1.8,bowing:2});break;case"close-button":t.rectangle(2,2,n-4,l-4,{fill:"#ffffff",fillStyle:"solid",stroke:"#ff007f",strokeWidth:2,roughness:2,bowing:3});break;default:t.rectangle(5,5,n-10,l-10,{fill:"#ff007f",fillStyle:"solid",stroke:"#ff007f",strokeWidth:2,roughness:g,bowing:2})}}}),[n,l,d,g,w]),!w)return(0,o.jsx)("div",{className:"rough-canvas-placeholder ".concat(h),style:{width:"".concat(n,"px"),height:"".concat(l,"px")}});var O=(0,o.jsx)("canvas",{ref:j,className:"rough-canvas ".concat(h," ").concat("main"===d?"":"rough-canvas-button"),onClick:x,style:{cursor:x&&!y?"pointer":"default",opacity:y?.6:1,display:"block"}});return"main"!==d&&x?(0,o.jsxs)(s.E.div,{className:"rough-canvas-container ".concat(h),style:{position:"relative",display:"inline-block"},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,children:[O,(p||v)&&(0,o.jsx)("div",{className:"rough-canvas-text",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontFamily:"Barriecito, cursive",color:"main"===d?"#ffffff":"#ff007f",fontSize:"option-button"===d?"24px":"yes-button"===d||"no-button"===d?"34px":"24px",fontWeight:"option-button"===d?"bolder":"normal",textAlign:"center",textTransform:"option-button"===d?"none":"uppercase",letterSpacing:"option-button"===d?"2.5px":"0",pointerEvents:"none",userSelect:"none"},children:p||v})]}):O}},5027:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var o=n(5893),r=n(6156),s=n(7757),a=n.n(s),i=n(2137),l=n(5988),c=n(7294),d=n(3850),u=n(4059),p=n(1296),f=n.n(p),g=n(883),m=n(2155),h=n(27);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.value,n=e.onChange,r=e.onResolvedAddressChange,s=e.placeholder,l=void 0===s?"Enter address or location":s,d=e.style,u=void 0===d?{}:d,p=e.validationError,m=void 0===p?null:p,x=(0,c.useState)(t||""),y=x[0],v=x[1],j=(0,c.useState)([]),k=j[0],w=j[1],S=(0,c.useState)(!1),O=S[0],P=S[1],N=(0,c.useState)(null),C=N[0],E=N[1],R=(0,c.useRef)(new Map);(0,c.useEffect)((function(){v(t||"")}),[t]);var A=(0,c.useRef)(f()(function(){var e=(0,i.Z)(a().mark((function e(t){var n,o,r,s,i,l,c,d,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\ud83d\udd0d [Places] Starting prediction fetch for input:",'"'.concat(t,'"')),t&&!(t.length<3)){e.next=5;break}return console.log("\ud83d\udd0d [Places] Input too short, clearing predictions. Length:",null===t||void 0===t?void 0:t.length),w([]),e.abrupt("return");case 5:if(!R.current.has(t)){e.next=12;break}return console.log("\ud83d\udd0d [Places] Found cached result for:",'"'.concat(t,'"')),n=R.current.get(t),console.log("\ud83d\udd0d [Places] Cached predictions:",n),w(n),P(!1),e.abrupt("return");case 12:return e.prev=12,console.log("\ud83d\udd0d [Places] Making Strapi-proxied Google Places API call for:",'"'.concat(t,'"')),r=(0,g.p)(),e.next=17,fetch("".concat(r,"/api/places/autocomplete?input=").concat(encodeURIComponent(t)));case 17:if((s=e.sent).ok){e.next=20;break}throw new Error("HTTP error! status: ".concat(s.status));case 20:return e.next=22,s.json();case 22:i=e.sent,l=i.slice(0,5),console.log("\ud83d\udd0d [Places] Strapi proxy response:",l),c={status:"OK",predictions:l},console.log("\ud83d\udd0d [Places] API response data:",c),console.log("\ud83d\udd0d [Places] Response status:",c.status),console.log("\ud83d\udd0d [Places] Predictions count:",(null===(o=c.predictions)||void 0===o?void 0:o.length)||0),"OK"===c.status&&c.predictions?(d=c.predictions.slice(0,5),R.current.set(t,d),console.log("\ud83d\udd0d [Places] Cached result for future use"),R.current.size>30&&(u=R.current.keys().next().value,R.current.delete(u),console.log("\ud83d\udd0d [Places] Cache cleanup: removed oldest entry")),console.log("\ud83d\udd0d [Places] Setting predictions in state (limited to 5):",d),w(d)):(console.log("\ud83d\udd0d [Places] No valid predictions in response, clearing"),w([])),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(12),console.error("\ud83d\udd0d [Places] ERROR fetching predictions:",e.t0),console.error("\ud83d\udd0d [Places] Error details:",{name:e.t0.name,message:e.t0.message,stack:e.t0.stack}),w([]);case 37:console.log("\ud83d\udd0d [Places] Finished prediction fetch, setting loading to false"),P(!1);case 39:case"end":return e.stop()}}),e,null,[[12,32]])})));return function(t){return e.apply(this,arguments)}}(),300)).current,z=function(e){console.log("\ud83d\udd0d [Input] Input changed:",'"'.concat(e,'"'),"Length:",null===e||void 0===e?void 0:e.length),v(e),null===n||void 0===n||n(e),C&&(console.log("\ud83d\udd0d [Input] Clearing resolved address because user is typing"),E(null),null===r||void 0===r||r(null)),e&&e.length>=3?(console.log("\ud83d\udd0d [Input] Input length >= 3, starting prediction fetch..."),P(!0),A(e)):(console.log("\ud83d\udd0d [Input] Input too short, clearing predictions and stopping loading"),w([]),P(!1))},I=function(){var e=(0,i.Z)(a().mark((function e(t){var o,s,i,l,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\udd0d [Selection] User selected prediction:",t),v(t.description),null===n||void 0===n||n(t.description),w([]),console.log("\ud83d\udd0d [Selection] Updated query and cleared predictions"),e.prev=5,console.log("\ud83d\udd0d [Selection] Starting place details fetch via Strapi proxy"),console.log("\ud83d\udd0d [Selection] Place ID:",t.place_id),o=(0,g.p)(),e.next=11,fetch("".concat(o,"/api/places/details?place_id=").concat(encodeURIComponent(t.place_id)));case 11:if((s=e.sent).ok){e.next=14;break}throw new Error("HTTP error! status: ".concat(s.status));case 14:return e.next=16,s.json();case 16:i=e.sent,console.log("\ud83d\udd0d [Selection] Strapi proxy details response:",i),l={status:"OK",result:i},console.log("\ud83d\udd0d [Selection] Place details response:",l),console.log("\ud83d\udd0d [Selection] Response status:",l.status),console.log("\ud83d\udd0d [Selection] Result data:",l.result),"OK"===l.status&&l.result?(c={formatted_address:l.result.formatted_address,name:l.result.name,lat:l.result.geometry.location.lat,lng:l.result.geometry.location.lng},console.log("\ud83d\udd0d [Selection] Created resolved address object:",c),E(c),null===r||void 0===r||r(c),console.log("\ud83d\udd0d [Selection] Updated state with resolved address")):console.log("\ud83d\udd0d [Selection] No valid result in place details response"),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(5),console.error("\ud83d\udd0d [Selection] ERROR fetching place details:",e.t0),console.error("\ud83d\udd0d [Selection] Error details:",{name:e.t0.name,message:e.t0.message,stack:e.t0.stack});case 29:case"end":return e.stop()}}),e,null,[[5,25]])})));return function(t){return e.apply(this,arguments)}}();return console.log("\ud83d\udd0d [Render] Component rendering with state:"),console.log("  - query:",'"'.concat(y,'"')),console.log("  - predictions.length:",k.length),console.log("  - predictions:",k),console.log("  - isLoading:",O),console.log("  - resolvedAddress:",C),console.log("  - validationError:",m),(0,o.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,o.jsxs)(h.h,{value:y,onChange:I,children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(h.h.Input,{value:y,onChange:function(e){return z(e.target.value)},placeholder:l,style:b({width:"100%",padding:"1rem",fontSize:"1rem",border:"2px solid ".concat(m?"#ff6b6b":"#ff007f"),borderRadius:"0",background:"#222",color:"#fff",outline:"none",boxSizing:"border-box",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation"},u)}),O&&(0,o.jsx)("div",{style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",fontSize:"0.8rem",color:"#888"},children:"..."})]}),k.length>0&&(0,o.jsxs)(h.h.Options,{style:{position:"absolute",top:"100%",left:0,right:0,background:"#222",border:"2px solid #ff007f",borderTop:"none",borderRadius:"0",maxHeight:"none",overflowY:"visible",zIndex:1e3,listStyle:"none",margin:0,padding:0},children:[k.map((function(e){return(0,o.jsx)(h.h.Option,{value:e,style:{cursor:"pointer"},children:function(t){var n,r,s=t.active;return(0,o.jsxs)("div",{style:{padding:"0.75rem 1rem",background:s?"#ff007f":"transparent",color:s?"#fff":"#ccc",borderBottom:"1px solid #333"},children:[(0,o.jsx)("div",{style:{fontSize:"0.9rem",fontWeight:s?"bold":"normal"},children:(null===(n=e.structured_formatting)||void 0===n?void 0:n.main_text)||e.description}),(null===(r=e.structured_formatting)||void 0===r?void 0:r.secondary_text)&&(0,o.jsx)("div",{style:{fontSize:"0.8rem",opacity:.8},children:e.structured_formatting.secondary_text})]})}},e.place_id)})),0===k.length&&y.length>=3&&!O&&(0,o.jsx)("div",{style:{padding:"0.75rem 1rem",color:"#888",fontSize:"0.9rem",fontStyle:"italic"},children:"No matches, keep typing or enter address manually"})]})]})})};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e=(0,c.useState)("create"),t=e[0],n=e[1],s=(0,c.useState)(null),p=(s[0],s[1]),h=(0,c.useState)(""),x=h[0],b=h[1],v=(0,c.useState)(""),k=v[0],w=v[1],S=(0,c.useState)(""),O=S[0],P=S[1],N=(0,c.useState)(""),C=N[0],E=N[1],R=(0,c.useState)({customAddress:"",name:"",email:"",instagram:"",phone:""}),A=R[0],z=R[1],I=(0,c.useState)({}),_=I[0],B=I[1],H=(0,c.useState)(null),W=H[0],T=H[1],F=(0,c.useState)(null),Z=F[0],D=F[1],M=(0,c.useState)(!1),K=M[0],U=M[1],L=((0,c.useRef)(null),(0,c.useRef)(f()(function(){var e=(0,i.Z)(a().mark((function e(t){var n,o,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return D(null),e.abrupt("return");case 3:if(/^(?!.*\\.\\.)(?!.*\\.$)[^\\.][a-zA-Z0-9._]{0,29}$/.test(t)){e.next=7;break}return D(null),e.abrupt("return");case 7:return U(!0),e.prev=8,n=(0,g.p)(),e.next=12,fetch("".concat(n,"/api/instagram/exists?handle=").concat(encodeURIComponent(t)));case 12:return o=e.sent,e.next=15,o.json();case 15:r=e.sent,s=r.exists,D(s),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),console.error("Instagram check error:",e.t0),D(null);case 24:U(!1);case 25:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}(),500)).current),$=function(e,t){"phone"===e&&(t=t.replace(/[^0-9\s\-\(\)\+]/g,"")),"instagram"===e&&t.startsWith("@")&&(t=t.substring(1)),"instagram"===e&&(D(null),U(!1),L(t)),z((function(n){return j(j({},n),{},(0,r.Z)({},e,t))})),_[e]&&B((function(t){return j(j({},t),{},(0,r.Z)({},e,null))}))},q=function(e,t){if(!t)return null;switch(e){case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Please enter a valid email address";case"phone":var n=t.replace(/[^0-9]/g,"");return n.length<10?"Phone number must have at least 10 digits":n.length>15?"Phone number is too long":null;case"instagram":return/^(?!.*\.\.)(?!.*\.$)[^\.][a-zA-Z0-9._]{0,29}$/.test(t)?null:"Invalid Instagram handle format (letters, numbers, periods, underscores only, 1-30 chars)";default:return null}},G=function(e){var t=q(e,A[e]);B((function(n){return j(j({},n),{},(0,r.Z)({},e,t))})),"instagram"===e&&A[e]&&L(A[e])},Y=function(){var e={};return Object.keys(A).forEach((function(t){if(A[t]&&["email","phone","instagram"].includes(t)){var n=q(t,A[t]);n&&(e[t]=n)}})),B(e),0===Object.keys(e).length},X="https://silkytruth.com/x/".concat(O);return(0,o.jsxs)("div",{style:{minHeight:"100vh",background:"#000",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:'"IBM Plex Mono", monospace'},className:"jsx-630787847",children:["create"===t&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{textAlign:"center",maxWidth:"400px"},children:[(0,o.jsxs)("div",{style:{marginBottom:"1rem",width:"100%"},className:"jsx-630787847",children:[(0,o.jsx)("p",{style:{color:"#ccc",marginBottom:"1rem",fontSize:"0.9rem"},className:"jsx-630787847",children:"Fill out any details you want to pre-populate (all optional):"}),(0,o.jsx)("div",{style:{marginBottom:"1rem"},className:"jsx-630787847",children:(0,o.jsx)(y,{value:A.customAddress,onChange:function(e){return $("customAddress",e)},onResolvedAddressChange:T,placeholder:"Address or location (e.g., 'Powell's Books', '123 Main St')"})}),(0,o.jsx)("div",{style:{marginBottom:"1rem"},className:"jsx-630787847",children:(0,o.jsx)("input",{type:"text",autoComplete:"name",value:A.name,onChange:function(e){return $("name",e.target.value)},placeholder:"Person's name",style:{width:"100%",padding:"1rem",fontSize:"1rem",border:"2px solid #ff007f",borderRadius:"0",background:"#222",color:"#fff",outline:"none",boxSizing:"border-box",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation",minHeight:"44px"},className:"jsx-630787847"})}),(0,o.jsxs)("div",{style:{marginBottom:"1rem",position:"relative"},className:"jsx-630787847",children:[(0,o.jsx)("input",{type:"text",autoComplete:"username",value:A.instagram,onChange:function(e){return $("instagram",e.target.value)},onBlur:function(){return G("instagram")},placeholder:"Instagram handle (without @)",style:{width:"100%",padding:"1rem",paddingRight:"3rem",fontSize:"1rem",border:"2px solid ".concat(_.instagram?"#FFE200":"#ff007f"),borderRadius:"0",background:"#222",color:"#fff",outline:"none",boxSizing:"border-box",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation",minHeight:"44px"},className:"jsx-630787847"}),A.instagram&&(null!==Z||K)&&(0,o.jsx)("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"18px",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},className:"jsx-630787847",children:K?(0,o.jsx)("span",{style:{color:"#888",fontSize:"14px"},className:"jsx-630787847",children:"..."}):!0===Z?(0,o.jsx)("span",{style:{color:"#4ade80"},className:"jsx-630787847",children:"\u2713"}):!1===Z?(0,o.jsx)("span",{style:{color:"#f97316"},className:"jsx-630787847",children:"\u26a0"}):(0,o.jsx)("span",{style:{color:"#6b7280"},className:"jsx-630787847",children:"?"})})]}),(0,o.jsx)("div",{style:{marginBottom:"1rem"},className:"jsx-630787847",children:(0,o.jsx)("input",{type:"tel",inputMode:"tel",value:A.phone,onChange:function(e){return $("phone",e.target.value)},onBlur:function(){return G("phone")},placeholder:"Phone number",style:{width:"100%",padding:"1rem",fontSize:"1rem",border:"2px solid ".concat(_.phone?"#FFE200":"#ff007f"),borderRadius:"0",background:"#222",color:"#fff",outline:"none",boxSizing:"border-box",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation",minHeight:"44px"},className:"jsx-630787847"})}),(0,o.jsx)("div",{style:{marginBottom:"1rem"},className:"jsx-630787847",children:(0,o.jsx)("input",{type:"email",inputMode:"email",autoComplete:"email",value:A.email,onChange:function(e){return $("email",e.target.value)},onBlur:function(){return G("email")},placeholder:"Email address",style:{width:"100%",padding:"1rem",fontSize:"1rem",border:"2px solid ".concat(_.email?"#FFE200":"#ff007f"),borderRadius:"0",background:"#222",color:"#fff",outline:"none",boxSizing:"border-box",WebkitAppearance:"none",WebkitTapHighlightColor:"transparent",touchAction:"manipulation",minHeight:"44px"},className:"jsx-630787847"})})]}),(0,o.jsx)("div",{style:{minHeight:"120px",marginBottom:"1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%"},className:"jsx-630787847",children:Object.keys(_).filter((function(e){return _[e]})).length>0&&(0,o.jsx)("div",{style:{width:"100%",background:"#222",border:"2px solid #FFE200",padding:"0.75rem",boxSizing:"border-box"},className:"jsx-630787847",children:Object.keys(_).filter((function(e){return _[e]})).map((function(e,t){return(0,o.jsx)("div",{style:{color:"#FFE200",fontSize:"0.75rem",textAlign:"center",lineHeight:"1.3",marginBottom:t<Object.keys(_).filter((function(e){return _[e]})).length-1?"0.5rem":"0",fontFamily:'"IBM Plex Mono", monospace'},className:"jsx-630787847",children:_[e]},e)}))})}),(0,o.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"400px"},className:"jsx-630787847",children:[(0,o.jsx)(m.Z,{width:400,height:80,options:{roughness:1.5,strokeWidth:3,stroke:"#ff007f",fill:"#ff007f",fillStyle:"solid"},shapes:[{type:"rectangle",x:0,y:0,width:400,height:80}],style:{position:"absolute",top:0,left:0,pointerEvents:"none"}}),(0,o.jsx)(d.E.button,{whileHover:{scale:Object.keys(_).filter((function(e){return _[e]})).length>0?1:1.05},whileTap:{scale:Object.keys(_).filter((function(e){return _[e]})).length>0?1:.95},onClick:function(){navigator.geolocation?(n("loading"),E(""),navigator.geolocation.getCurrentPosition(function(){var e=(0,i.Z)(a().mark((function e(t){var o,r,s,i,l,c,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y()){e.next=4;break}return n("create"),E("Please fix validation errors before creating encounter"),e.abrupt("return");case 4:return o=t.coords,r=o.latitude,s=o.longitude,p({lat:r,lng:s}),e.prev=6,i=(0,g.p)(),l=W?{lat:W.lat,lng:W.lng,manualAddress:W.formatted_address,contactData:{name:A.name||null,email:A.email||null,instagram:A.instagram||null,phone:A.phone||null,igConfirmed:!0===Z}}:{lat:r,lng:s,manualAddress:A.customAddress||null,contactData:{name:A.name||null,email:A.email||null,instagram:A.instagram||null,phone:A.phone||null,igConfirmed:!0===Z}},e.next=11,fetch("".concat(i,"/api/photo-encounters/coords"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 11:if((c=e.sent).ok){e.next=14;break}throw new Error("HTTP error! status: ".concat(c.status));case 14:return e.next=16,c.json();case 16:d=e.sent,P(d.slug),b(d.address),w(d.placeName),n("qr"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),E("Failed to create encounter: ".concat(e.t0.message)),n("create");case 27:case"end":return e.stop()}}),e,null,[[6,23]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){E("Location error: ".concat(e.message)),n("create")}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})):E("Geolocation is not supported by this browser")},disabled:Object.keys(_).filter((function(e){return _[e]})).length>0,style:{position:"absolute",top:0,left:0,width:"400px",height:"80px",fontSize:"1.5rem",background:"transparent",color:Object.keys(_).filter((function(e){return _[e]})).length>0?"#666":"#fff",border:"none",cursor:Object.keys(_).filter((function(e){return _[e]})).length>0?"not-allowed":"pointer",zIndex:1,opacity:Object.keys(_).filter((function(e){return _[e]})).length>0?.5:1,display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0,fontFamily:'"Kirang Haerang", cursive'},children:(0,o.jsx)("span",{style:{fontFamily:'"Kirang Haerang", cursive !important'},className:"jsx-630787847",children:"Create Encounter"})})]}),C&&(0,o.jsx)("div",{style:{color:"#ff6b6b",marginTop:"1rem",padding:"1rem",background:"#222",borderRadius:"8px",border:"1px solid #ff6b6b"},className:"jsx-630787847",children:C})]}),"loading"===t&&(0,o.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1},style:{textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem"},className:"jsx-630787847",children:"\ud83c\udf0d"}),(0,o.jsx)("h2",{style:{color:"#ff007f"},className:"jsx-630787847",children:"Getting location..."}),(0,o.jsx)("div",{style:{width:"50px",height:"50px",border:"3px solid #ff007f",borderTop:"3px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"2rem auto"},className:"jsx-630787847"})]}),"qr"===t&&(0,o.jsxs)(d.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},style:{textAlign:"center",maxWidth:"500px"},children:[(0,o.jsx)("h2",{style:{color:"#ff007f",marginBottom:"1rem"},className:"jsx-630787847",children:"QR Code Ready!"}),(0,o.jsx)("div",{style:{background:"#fff",padding:"2rem",borderRadius:"12px",marginBottom:"2rem",display:"inline-block"},className:"jsx-630787847",children:(0,o.jsx)(u.ZP,{value:X,size:300,level:"M",includeMargin:!0})}),(0,o.jsxs)("div",{style:{background:"#222",padding:"1.5rem",borderRadius:"8px",marginBottom:"2rem",textAlign:"left"},className:"jsx-630787847",children:[(0,o.jsxs)("div",{style:{marginBottom:"0.5rem"},className:"jsx-630787847",children:[(0,o.jsx)("strong",{className:"jsx-630787847",children:"Location:"})," ",x]}),k&&(0,o.jsxs)("div",{style:{marginBottom:"0.5rem"},className:"jsx-630787847",children:[(0,o.jsx)("strong",{className:"jsx-630787847",children:"Place:"})," ",k]}),(0,o.jsxs)("div",{style:{marginBottom:"0.5rem"},className:"jsx-630787847",children:[(0,o.jsx)("strong",{className:"jsx-630787847",children:"URL:"})," ",(0,o.jsx)("span",{style:{fontSize:"0.9rem",wordBreak:"break-all"},className:"jsx-630787847",children:X})]})]}),(0,o.jsxs)("div",{style:{position:"relative",width:"100%",maxWidth:"400px"},className:"jsx-630787847",children:[(0,o.jsx)(m.Z,{width:400,height:60,options:{roughness:1.5,strokeWidth:2,stroke:"#ff007f",fill:"#333",fillStyle:"solid"},shapes:[{type:"rectangle",x:0,y:0,width:400,height:60}],style:{position:"absolute",top:0,left:0,pointerEvents:"none"}}),(0,o.jsx)(d.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:function(){n("create"),p(null),b(""),w(""),P(""),E(""),z({customAddress:"",name:"",email:"",instagram:"",phone:""}),B({}),T(null),D(null),U(!1)},style:{position:"absolute",top:0,left:0,width:"400px",height:"60px",fontSize:"1rem",background:"transparent",color:"#fff",border:"none",cursor:"pointer",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",margin:0,padding:0},children:(0,o.jsx)("span",{style:{fontFamily:'"Kirang Haerang", cursive !important'},className:"jsx-630787847",children:"Create Another"})})]})]}),(0,o.jsx)(l.default,{id:"630787847",children:["@-webkit-keyframes spin-jsx-630787847{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}","@keyframes spin-jsx-630787847{0%{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);-ms-transform:rotate(360deg);transform:rotate(360deg);}}"]})]})}},1270:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/encounter",function(){return n(5027)}])}},function(e){e.O(0,[247,850,855,774,888,179],(function(){return t=1270,e(e.s=t);var t}));var t=e.O();_N_E=t}]);